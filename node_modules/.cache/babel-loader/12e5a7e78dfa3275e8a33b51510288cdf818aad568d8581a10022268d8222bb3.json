{"ast":null,"code":"import React,{useContext,useState}from'react';import Modal from\"react-bootstrap/Modal\";import{Button,Form,Row,Col}from\"react-bootstrap\";import{Context}from'../..';import{createNews}from'../../http/newsAPI';import{observer}from'mobx-react-lite';import NewsList from'./NewsList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateNews=observer(_ref=>{let{show,onHide}=_ref;const{news}=useContext(Context);const[newsHeader,setNewsHeader]=useState('');const[newsDescription,setNewsDescription]=useState('');const[newsDate,setNewsDate]=useState('');const[newsImg,setNewsImg]=useState(null);const[newsFullText,setNewsFullText]=useState('');const selectFile=e=>{setNewsImg(e.target.files[0]);};const addNews=()=>{const formData=new FormData();formData.append('name',newsHeader);formData.append('text',newsDescription);formData.append('date',newsDate);formData.append('image',newsImg);formData.append('fulltext',newsFullText);createNews(formData).then(data=>onHide());};const[showNewsList,setShowNewsList]=useState(false);const handleShowNewsList=()=>{setShowNewsList(true);};const handleCloseNewsList=()=>{setShowNewsList(false);};return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:onHide,size:\"lg\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{id:\"contained-modal-title-vcenter\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u044C\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Form.Control,{value:newsHeader,onChange:e=>setNewsHeader(e.target.value),className:\"mt-3\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"}),/*#__PURE__*/_jsx(Form.Control,{value:newsDescription,onChange:e=>setNewsDescription(e.target.value),className:\"mt-3\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0442\\u0435\\u043A\\u0441\\u0442 \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"}),/*#__PURE__*/_jsx(Form.Control,{value:newsDate,onChange:e=>setNewsDate(e.target.value),className:\"mt-3\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0434\\u0430\\u0442\\u0443\"}),/*#__PURE__*/_jsx(Form.Control,{onChange:selectFile,className:\"mt-3\",placeholder:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0444\\u0430\\u0439\\u043B\",type:\"file\"}),/*#__PURE__*/_jsx(Form.Group,{className:\"mt-3\",children:/*#__PURE__*/_jsx(Form.Control,{value:newsFullText,onChange:e=>setNewsFullText(e.target.value),as:\"textarea\",rows:5,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"})})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"mt-5\",onClick:handleShowNewsList,children:\"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"}),/*#__PURE__*/_jsx(NewsList,{show:showNewsList,onHide:handleCloseNewsList})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:onHide,children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-success\",onClick:addNews,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"})]})]});});export default CreateNews;","map":{"version":3,"names":["React","useContext","useState","Modal","Button","Form","Row","Col","Context","createNews","observer","NewsList","jsx","_jsx","jsxs","_jsxs","CreateNews","_ref","show","onHide","news","newsHeader","setNewsHeader","newsDescription","setNewsDescription","newsDate","setNewsDate","newsImg","setNewsImg","newsFullText","setNewsFullText","selectFile","e","target","files","addNews","formData","FormData","append","then","data","showNewsList","setShowNewsList","handleShowNewsList","handleCloseNewsList","size","centered","children","Header","closeButton","Title","id","Body","Control","value","onChange","className","placeholder","type","Group","as","rows","variant","onClick","Footer"],"sources":["D:/Psych-narc/client/src/components/modals/CreateNews.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport {Button, Form, Row, Col} from \"react-bootstrap\";\r\nimport { Context } from '../..';\r\nimport { createNews } from '../../http/newsAPI';\r\nimport { observer } from 'mobx-react-lite';\r\nimport NewsList from './NewsList';\r\n\r\nconst CreateNews = observer(({show, onHide}) => {\r\n    const {news} = useContext(Context)\r\n    const [newsHeader, setNewsHeader] = useState('')\r\n    const [newsDescription, setNewsDescription] = useState('')\r\n    const [newsDate, setNewsDate] = useState('')\r\n    const [newsImg, setNewsImg] = useState(null)\r\n    const [newsFullText, setNewsFullText] = useState('')\r\n\r\n    const selectFile = e => {\r\n        setNewsImg(e.target.files[0])\r\n    }\r\n\r\n    const addNews = () => {\r\n        const formData = new FormData()\r\n        formData.append('name', newsHeader)\r\n        formData.append('text', newsDescription)\r\n        formData.append('date', newsDate)\r\n        formData.append('image', newsImg)\r\n        formData.append('fulltext', newsFullText)\r\n        createNews(formData).then(data => onHide())\r\n    }\r\n\r\n    const [showNewsList, setShowNewsList] = useState(false);\r\n\r\n    const handleShowNewsList = () => {\r\n        setShowNewsList(true);\r\n      };\r\n    \r\n      const handleCloseNewsList = () => {\r\n        setShowNewsList(false);\r\n      };\r\n\r\n    return (\r\n        <Modal\r\n            show={show}\r\n            onHide={onHide}\r\n            size=\"lg\"\r\n            centered\r\n        >\r\n        <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                Добавить новость\r\n            </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Form>\r\n                <Form.Control\r\n                    value={newsHeader}\r\n                    onChange={e => setNewsHeader(e.target.value)}\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Введите название новости\"\r\n                />\r\n                <Form.Control\r\n                    value={newsDescription}\r\n                    onChange={e => setNewsDescription(e.target.value)}\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Введите текст новости\"\r\n                />\r\n                <Form.Control\r\n                    value={newsDate}\r\n                    onChange={e => setNewsDate(e.target.value)}\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Введите дату\"\r\n                />\r\n                <Form.Control\r\n                    onChange={selectFile}\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Выберите файл\"\r\n                    type=\"file\"\r\n                />\r\n                 <Form.Group className=\"mt-3\">\r\n                    <Form.Control\r\n                        value={newsFullText} \r\n                        onChange={e => setNewsFullText(e.target.value)}\r\n                        as=\"textarea\" \r\n                        rows={5} \r\n                        placeholder=\"Введите полное описание новости\"/>\r\n                    </Form.Group>\r\n            </Form>\r\n            <Button variant=\"primary\" className='mt-5' onClick={handleShowNewsList}>Новости</Button>\r\n\r\n      {/* Список новостей */}\r\n      <NewsList show={showNewsList} onHide={handleCloseNewsList} />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button variant={\"outline-danger\"} onClick={onHide}>Закрыть</Button>\r\n            <Button variant={\"outline-success\"} onClick={addNews}>Добавить</Button>\r\n        </Modal.Footer>\r\n        </Modal>\r\n        );\r\n});\r\n\r\nexport default CreateNews;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACnD,MAAO,CAAAC,KAAK,KAAM,uBAAuB,CACzC,OAAQC,MAAM,CAAEC,IAAI,CAAEC,GAAG,CAAEC,GAAG,KAAO,iBAAiB,CACtD,OAASC,OAAO,KAAQ,OAAO,CAC/B,OAASC,UAAU,KAAQ,oBAAoB,CAC/C,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,UAAU,CAAGN,QAAQ,CAACO,IAAA,EAAoB,IAAnB,CAACC,IAAI,CAAEC,MAAM,CAAC,CAAAF,IAAA,CACvC,KAAM,CAACG,IAAI,CAAC,CAAGnB,UAAU,CAACO,OAAO,CAAC,CAClC,KAAM,CAACa,UAAU,CAAEC,aAAa,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACqB,eAAe,CAAEC,kBAAkB,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACuB,QAAQ,CAAEC,WAAW,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACyB,OAAO,CAAEC,UAAU,CAAC,CAAG1B,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC2B,YAAY,CAAEC,eAAe,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CAEpD,KAAM,CAAA6B,UAAU,CAAGC,CAAC,EAAI,CACpBJ,UAAU,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACjC,CAAC,CAED,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CAClB,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEjB,UAAU,CAAC,CACnCe,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEf,eAAe,CAAC,CACxCa,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEb,QAAQ,CAAC,CACjCW,QAAQ,CAACE,MAAM,CAAC,OAAO,CAAEX,OAAO,CAAC,CACjCS,QAAQ,CAACE,MAAM,CAAC,UAAU,CAAET,YAAY,CAAC,CACzCpB,UAAU,CAAC2B,QAAQ,CAAC,CAACG,IAAI,CAACC,IAAI,EAAIrB,MAAM,CAAC,CAAC,CAAC,CAC/C,CAAC,CAED,KAAM,CAACsB,YAAY,CAAEC,eAAe,CAAC,CAAGxC,QAAQ,CAAC,KAAK,CAAC,CAEvD,KAAM,CAAAyC,kBAAkB,CAAGA,CAAA,GAAM,CAC7BD,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,CAED,KAAM,CAAAE,mBAAmB,CAAGA,CAAA,GAAM,CAChCF,eAAe,CAAC,KAAK,CAAC,CACxB,CAAC,CAEH,mBACI3B,KAAA,CAACZ,KAAK,EACFe,IAAI,CAAEA,IAAK,CACXC,MAAM,CAAEA,MAAO,CACf0B,IAAI,CAAC,IAAI,CACTC,QAAQ,MAAAC,QAAA,eAEZlC,IAAA,CAACV,KAAK,CAAC6C,MAAM,EAACC,WAAW,MAAAF,QAAA,cACrBlC,IAAA,CAACV,KAAK,CAAC+C,KAAK,EAACC,EAAE,CAAC,+BAA+B,CAAAJ,QAAA,CAAC,6FAEhD,CAAa,CAAC,CACJ,CAAC,cACfhC,KAAA,CAACZ,KAAK,CAACiD,IAAI,EAAAL,QAAA,eACPhC,KAAA,CAACV,IAAI,EAAA0C,QAAA,eACDlC,IAAA,CAACR,IAAI,CAACgD,OAAO,EACTC,KAAK,CAAEjC,UAAW,CAClBkC,QAAQ,CAAEvB,CAAC,EAAIV,aAAa,CAACU,CAAC,CAACC,MAAM,CAACqB,KAAK,CAAE,CAC7CE,SAAS,CAAC,MAAM,CAChBC,WAAW,CAAC,wIAA0B,CACzC,CAAC,cACF5C,IAAA,CAACR,IAAI,CAACgD,OAAO,EACTC,KAAK,CAAE/B,eAAgB,CACvBgC,QAAQ,CAAEvB,CAAC,EAAIR,kBAAkB,CAACQ,CAAC,CAACC,MAAM,CAACqB,KAAK,CAAE,CAClDE,SAAS,CAAC,MAAM,CAChBC,WAAW,CAAC,sHAAuB,CACtC,CAAC,cACF5C,IAAA,CAACR,IAAI,CAACgD,OAAO,EACTC,KAAK,CAAE7B,QAAS,CAChB8B,QAAQ,CAAEvB,CAAC,EAAIN,WAAW,CAACM,CAAC,CAACC,MAAM,CAACqB,KAAK,CAAE,CAC3CE,SAAS,CAAC,MAAM,CAChBC,WAAW,CAAC,qEAAc,CAC7B,CAAC,cACF5C,IAAA,CAACR,IAAI,CAACgD,OAAO,EACTE,QAAQ,CAAExB,UAAW,CACrByB,SAAS,CAAC,MAAM,CAChBC,WAAW,CAAC,2EAAe,CAC3BC,IAAI,CAAC,MAAM,CACd,CAAC,cACD7C,IAAA,CAACR,IAAI,CAACsD,KAAK,EAACH,SAAS,CAAC,MAAM,CAAAT,QAAA,cACzBlC,IAAA,CAACR,IAAI,CAACgD,OAAO,EACTC,KAAK,CAAEzB,YAAa,CACpB0B,QAAQ,CAAEvB,CAAC,EAAIF,eAAe,CAACE,CAAC,CAACC,MAAM,CAACqB,KAAK,CAAE,CAC/CM,EAAE,CAAC,UAAU,CACbC,IAAI,CAAE,CAAE,CACRJ,WAAW,CAAC,6KAAiC,CAAC,CAAC,CACvC,CAAC,EACf,CAAC,cACP5C,IAAA,CAACT,MAAM,EAAC0D,OAAO,CAAC,SAAS,CAACN,SAAS,CAAC,MAAM,CAACO,OAAO,CAAEpB,kBAAmB,CAAAI,QAAA,CAAC,4CAAO,CAAQ,CAAC,cAG9FlC,IAAA,CAACF,QAAQ,EAACO,IAAI,CAAEuB,YAAa,CAACtB,MAAM,CAAEyB,mBAAoB,CAAE,CAAC,EAC/C,CAAC,cACb7B,KAAA,CAACZ,KAAK,CAAC6D,MAAM,EAAAjB,QAAA,eACTlC,IAAA,CAACT,MAAM,EAAC0D,OAAO,CAAE,gBAAiB,CAACC,OAAO,CAAE5C,MAAO,CAAA4B,QAAA,CAAC,4CAAO,CAAQ,CAAC,cACpElC,IAAA,CAACT,MAAM,EAAC0D,OAAO,CAAE,iBAAkB,CAACC,OAAO,CAAE5B,OAAQ,CAAAY,QAAA,CAAC,kDAAQ,CAAQ,CAAC,EAC7D,CAAC,EACR,CAAC,CAEhB,CAAC,CAAC,CAEF,cAAe,CAAA/B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}