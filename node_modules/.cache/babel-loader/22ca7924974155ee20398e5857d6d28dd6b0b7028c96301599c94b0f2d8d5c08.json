{"ast":null,"code":"import React,{useState,useContext,useEffect}from'react';import{Context}from'..';import{Pagination,Card,CardGroup,Container,Modal}from'react-bootstrap';import Col from'react-bootstrap/Col';import Row from'react-bootstrap/Row';import Button from'react-bootstrap/Button';import'../styles/utility-styles.css';import'../styles/text-styles.css';import'../styles/media.css';import{observer}from'mobx-react-lite';import{fetchDepartments}from'../http/departmentsAPI';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Departments=observer(()=>{const{departments}=useContext(Context);const[selectedDep,setSelectedDep]=useState(null);const[showModal,setShowModal]=useState(false);useEffect(()=>{fetchDepartments().then(data=>{departments.setDeps(data);departments.setTotalCount(data);});},[departments]);let firstDeps=departments.deps.slice(0,3);let lastDeps=departments.deps.slice(3);const handleDepClick=departments=>{setSelectedDep(departments);setShowModal(true);};const handleCloseModal=()=>{setShowModal(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Row,{xs:1,md:3,lg:3,сlassName:\"mt-5\",children:firstDeps.map((departmentsItem,index)=>/*#__PURE__*/_jsx(Col,{className:\"g-5\",children:/*#__PURE__*/_jsxs(Card,{className:\"card-Deps\",style:{backgroundColor:'#F4F5F6',borderColor:'#3D9378',borderWidth:'0.5px',position:'relative'},children:[/*#__PURE__*/_jsx(Card.Img,{className:\"card-img-deps-top\",variant:\"top\",src:process.env.REACT_APP_API_URL+departmentsItem.image,style:{marginBottom:'-10px'}}),/*#__PURE__*/_jsxs(Card.Body,{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Card.Title,{className:\"caption-Gradient\",style:{textAlign:'center',marginBottom:'4px'},children:departmentsItem.name}),/*#__PURE__*/_jsx(\"div\",{className:\"div-Card mt-2 mb-2\",style:{display:'flex',justifyContent:'center'}}),/*#__PURE__*/_jsx(Card.Text,{className:\"body-Small-Text\",style:{color:'#3D9378'},children:departmentsItem.text}),/*#__PURE__*/_jsx(Button,{className:\"button-3 mt-auto\",style:{border:'none',alignSelf:'center'},onClick:()=>handleDepClick(departmentsItem),children:\"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"})]})]})},index))}),/*#__PURE__*/_jsx(Row,{xs:1,md:2,lg:2,сlassName:\"mt-5\",style:{paddingLeft:'17%',paddingRight:'17%'},children:lastDeps.map((departmentsItem,index)=>/*#__PURE__*/_jsx(Col,{className:\"mt-5 g-5 block-Standart\",children:/*#__PURE__*/_jsxs(Card,{className:\"card-Deps gx-5\",style:{backgroundColor:'#F4F5F6',borderColor:'#3D9378',borderWidth:'0.5px',position:'relative'},children:[/*#__PURE__*/_jsx(Card.Img,{className:\"card-img-deps-top\",variant:\"top\",src:process.env.REACT_APP_API_URL+departmentsItem.image,style:{marginBottom:'-10px'}}),/*#__PURE__*/_jsxs(Card.Body,{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Card.Title,{className:\"caption-Gradient\",style:{textAlign:'center',marginBottom:'4px'},children:departmentsItem.name}),/*#__PURE__*/_jsx(\"div\",{className:\"div-Card mt-2 mb-2\",style:{display:'flex',justifyContent:'center'}}),/*#__PURE__*/_jsx(Card.Text,{className:\"body-Small-Text\",style:{color:'#3D9378'},children:departmentsItem.text}),/*#__PURE__*/_jsx(Button,{className:\"button-3 mt-auto\",style:{border:'none',alignSelf:'center'},onClick:()=>handleDepClick(departmentsItem),children:\"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"})]})]})},index))})]}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:handleCloseModal,children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.REACT_APP_API_URL+(selectedDep===null||selectedDep===void 0?void 0:selectedDep.image),alt:\"\\u041E\\u0442\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435\",style:{objectFit:'cover'}}),/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{className:\"title-Text-2\",children:selectedDep===null||selectedDep===void 0?void 0:selectedDep.name})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"body-Regular\",style:{color:'rgb(61, 147, 120)'},children:/*#__PURE__*/_jsx(\"p\",{children:selectedDep===null||selectedDep===void 0?void 0:selectedDep.fulltext})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{className:\"button-3\",onClick:handleCloseModal,style:{border:'none'},children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"})})]})]});});export default Departments;","map":{"version":3,"names":["React","useState","useContext","useEffect","Context","Pagination","Card","CardGroup","Container","Modal","Col","Row","Button","observer","fetchDepartments","jsx","_jsx","jsxs","_jsxs","Departments","departments","selectedDep","setSelectedDep","showModal","setShowModal","then","data","setDeps","setTotalCount","firstDeps","deps","slice","lastDeps","handleDepClick","handleCloseModal","children","xs","md","lg","сlassName","map","departmentsItem","index","className","style","backgroundColor","borderColor","borderWidth","position","Img","variant","src","process","env","REACT_APP_API_URL","image","marginBottom","Body","display","flexDirection","Title","textAlign","name","justifyContent","Text","color","text","border","alignSelf","onClick","paddingLeft","paddingRight","show","onHide","alt","objectFit","Header","fulltext","Footer"],"sources":["D:/Psych-narc/client/src/components/Departments.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { Context } from '..';\r\nimport { Pagination, Card, CardGroup, Container, Modal } from 'react-bootstrap';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Button from 'react-bootstrap/Button';\r\nimport '../styles/utility-styles.css';\r\nimport '../styles/text-styles.css'\r\nimport '../styles/media.css'\r\nimport { observer } from 'mobx-react-lite';\r\nimport { fetchDepartments } from '../http/departmentsAPI';\r\n\r\nconst Departments = observer(() => {\r\n  const { departments } = useContext(Context);\r\n  const [selectedDep, setSelectedDep] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchDepartments().then(data => {\r\n      departments.setDeps(data);\r\n      departments.setTotalCount(data);\r\n    });\r\n  }, [departments]);\r\n\r\n  let firstDeps = departments.deps.slice(0, 3)\r\n  let lastDeps = departments.deps.slice(3)\r\n\r\n  const handleDepClick = (departments) => {\r\n    setSelectedDep(departments);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n    <Container>\r\n      <Row xs={1} md={3} lg={3} сlassName=\"mt-5\">\r\n      {firstDeps.map((departmentsItem, index) => (\r\n          <Col key={index} className='g-5'>\r\n            <Card \r\n              className='card-Deps' \r\n              style={{backgroundColor:'#F4F5F6', borderColor:'#3D9378', borderWidth:'0.5px', position:'relative'}}>\r\n              <Card.Img\r\n                className='card-img-deps-top'  \r\n                variant=\"top\" \r\n                src={process.env.REACT_APP_API_URL + departmentsItem.image}\r\n                style={{marginBottom:'-10px'}} />\r\n              <Card.Body style={{display:'flex', flexDirection:'column'}}>\r\n                <Card.Title \r\n                  className='caption-Gradient' \r\n                  style={{textAlign:'center', marginBottom:'4px'}}>\r\n                    {departmentsItem.name} \r\n                </Card.Title>\r\n                <div className='div-Card mt-2 mb-2' style={{display:'flex', justifyContent: 'center'}}/>\r\n                <Card.Text className='body-Small-Text' style={{color:'#3D9378'}}>\r\n                    {departmentsItem.text}\r\n                </Card.Text>\r\n                <Button \r\n                  className='button-3 mt-auto' \r\n                  style={{ border: 'none', alignSelf:'center'}}\r\n                  onClick={() => handleDepClick(departmentsItem)}>\r\n                    Подробнее\r\n                </Button>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n      ))}\r\n     </Row>\r\n     <Row xs={1} md={2} lg={2} сlassName=\"mt-5\" style={{paddingLeft:'17%', paddingRight:'17%'}}>\r\n      {lastDeps.map((departmentsItem, index) => (\r\n          <Col key={index} className='mt-5 g-5 block-Standart'>\r\n            <Card \r\n              className='card-Deps gx-5' \r\n              style={{backgroundColor:'#F4F5F6', borderColor:'#3D9378', borderWidth:'0.5px', position:'relative'}}>\r\n              <Card.Img\r\n                className='card-img-deps-top' \r\n                variant=\"top\" \r\n                src={process.env.REACT_APP_API_URL + departmentsItem.image}\r\n                style={{marginBottom:'-10px'}} />\r\n              <Card.Body style={{display:'flex', flexDirection:'column'}}>\r\n                <Card.Title \r\n                  className='caption-Gradient' \r\n                  style={{textAlign:'center', marginBottom:'4px'}}>\r\n                    {departmentsItem.name} \r\n                </Card.Title>\r\n                <div className='div-Card mt-2 mb-2' style={{display:'flex', justifyContent: 'center'}}/>\r\n                <Card.Text className='body-Small-Text' style={{color:'#3D9378'}}>\r\n                    {departmentsItem.text}\r\n                </Card.Text>\r\n                <Button \r\n                  className='button-3 mt-auto' \r\n                  style={{ border: 'none', alignSelf:'center'}}\r\n                  onClick={() => handleDepClick(departmentsItem)}>\r\n                    Подробнее\r\n                </Button>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n      ))}\r\n     </Row>\r\n      </Container>\r\n      <Modal show={showModal} onHide={handleCloseModal}> \r\n        <img \r\n          src={process.env.REACT_APP_API_URL + selectedDep?.image}\r\n          alt='Отделение'\r\n          style={{objectFit:'cover'}}/>\r\n        <Modal.Header>\r\n          <Modal.Title className='title-Text-2'>{selectedDep?.name}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body className='body-Regular' style={{color:'rgb(61, 147, 120)'}}>\r\n          <p>{selectedDep?.fulltext}</p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button className='button-3' onClick={handleCloseModal} style={{border:'none'}}>\r\n            Закрыть\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n     \r\n    </div>\r\n  );\r\n})\r\n\r\nexport default Departments;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}