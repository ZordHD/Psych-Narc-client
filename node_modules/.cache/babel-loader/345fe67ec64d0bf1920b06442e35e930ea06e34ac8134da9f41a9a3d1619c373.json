{"ast":null,"code":"import React,{useState,useContext,useEffect}from'react';import{Context}from'..';import{Pagination,Card,CardGroup,Container,Modal}from'react-bootstrap';import Col from'react-bootstrap/Col';import Row from'react-bootstrap/Row';import Button from'react-bootstrap/Button';import'../styles/utility-styles.css';import'../styles/text-styles.css';import'../styles/media.css';import{observer}from'mobx-react-lite';import{fetchMassMedia}from'../http/massmediaAPI';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MassMedia=observer(()=>{const{massmedia}=useContext(Context);const[selectedMassm,setSelectedMassm]=useState(null);const[showModal,setShowModal]=useState(false);useEffect(()=>{fetchMassMedia().then(data=>{massmedia.setMassMedia(data);massmedia.setTotalCount(data);});},[massmedia]);const handleMassmClick=massmedia=>{setSelectedMassm(massmedia);setShowModal(true);};const handleCloseModal=()=>{setShowModal(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Container,{className:\"mt-5\",style:{width:'80vw'},children:massmedia.massMedia.map((massmediaItem,index)=>/*#__PURE__*/_jsxs(Row,{xs:1,className:\"mt-5\",children:[/*#__PURE__*/_jsx(Col,{className:\"col-md-5 col-lg-5\",children:/*#__PURE__*/_jsxs(Card,{style:{border:'none',height:'100%'},children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:process.env.REACT_APP_API_URL+massmediaItem.image,style:{maxWidth:'100%',height:'100%'},alt:\"\\u041F\\u0443\\u0431\\u043B\\u0438\\u043A\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"image-Deco\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-wrap block-Standart\",children:/*#__PURE__*/_jsx(\"div\",{className:\"gradient mb-3\",style:{height:'9px',width:'50%'}})})})]})}),/*#__PURE__*/_jsx(Col,{className:\"block-Standart col-md-1 col-lg-1\",style:{maxWidth:'50px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"lineDiv-2\"})}),/*#__PURE__*/_jsxs(Col,{className:\"col-md-6 col-lg-6\",style:{display:'flex',flexDirection:'column',position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"title-Text-2\",style:{textAlign:'left',color:'#3D9378'},children:massmediaItem.name}),/*#__PURE__*/_jsx(\"div\",{className:\"body-Regular mt-4\",style:{color:'#3D9378'},children:massmediaItem.text}),/*#__PURE__*/_jsxs(\"div\",{style:{justifyContent:'space-between',display:'flex',marginTop:'auto'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"body-Regular mt-4\",style:{color:'#4BB594'},children:massmediaItem.date}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-auto\",children:/*#__PURE__*/_jsx(Button,{className:\"button-3\",style:{border:'none'},onClick:()=>handleMassmClick(massmediaItem),children:\"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"})})]})]})]},index))}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:handleCloseModal,children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.REACT_APP_API_URL+(selectedMassm===null||selectedMassm===void 0?void 0:selectedMassm.image),alt:\"\\u041F\\u0443\\u0431\\u043B\\u0438\\u043A\\u0430\\u0446\\u0438\\u044F\",style:{objectFit:'cover'}}),/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{className:\"title-Text-2\",children:selectedMassm===null||selectedMassm===void 0?void 0:selectedMassm.name})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"body-Regular\",style:{color:'rgb(61, 147, 120)'},children:/*#__PURE__*/_jsx(\"p\",{children:selectedMassm===null||selectedMassm===void 0?void 0:selectedMassm.fulltext})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{className:\"button-3\",onClick:handleCloseModal,style:{border:'none'},children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"})})]})]});});export default MassMedia;","map":{"version":3,"names":["React","useState","useContext","useEffect","Context","Pagination","Card","CardGroup","Container","Modal","Col","Row","Button","observer","fetchMassMedia","jsx","_jsx","jsxs","_jsxs","MassMedia","massmedia","selectedMassm","setSelectedMassm","showModal","setShowModal","then","data","setMassMedia","setTotalCount","handleMassmClick","handleCloseModal","children","className","style","width","massMedia","map","massmediaItem","index","xs","border","height","Img","variant","src","process","env","REACT_APP_API_URL","image","maxWidth","alt","display","flexDirection","position","textAlign","color","name","text","justifyContent","marginTop","date","onClick","show","onHide","objectFit","Header","Title","Body","fulltext","Footer"],"sources":["D:/Psych-narc/client/src/components/MassMedia.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { Context } from '..';\r\nimport { Pagination, Card, CardGroup, Container, Modal } from 'react-bootstrap';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Button from 'react-bootstrap/Button';\r\nimport '../styles/utility-styles.css';\r\nimport '../styles/text-styles.css'\r\nimport '../styles/media.css'\r\nimport { observer } from 'mobx-react-lite';\r\nimport { fetchMassMedia } from '../http/massmediaAPI';\r\n\r\nconst MassMedia = observer(() => {\r\n    const { massmedia } = useContext(Context);\r\n    const [selectedMassm, setSelectedMassm] = useState(null);\r\n    const [showModal, setShowModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchMassMedia().then(data => {\r\n      massmedia.setMassMedia(data);\r\n      massmedia.setTotalCount(data);\r\n    });\r\n  }, [massmedia]);\r\n\r\n  const handleMassmClick = (massmedia) => {\r\n    setSelectedMassm(massmedia);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n    return(\r\n        <div>\r\n        <Container className=\"mt-5\" style={{width:'80vw'}}>\r\n        {massmedia.massMedia.map((massmediaItem, index) => (\r\n                <Row key = {index} xs={1} className='mt-5'>\r\n                    <Col className=\"col-md-5 col-lg-5\">\r\n                        <Card style={{border:'none', height:'100%'}}>\r\n                        <Card.Img \r\n                            variant=\"top\" \r\n                            src={process.env.REACT_APP_API_URL + massmediaItem.image} \r\n                            style={{maxWidth:'100%', height:'100%'}} \r\n                            alt='Публикация'/>\r\n                        <div className=\"image-Deco\">\r\n                            <div className=\"flex-wrap block-Standart\">\r\n                                    <div className=\"gradient mb-3\" style={{height:'9px', width:'50%'}}/>\r\n                                </div>\r\n                            </div>\r\n                            </Card>\r\n                    </Col>\r\n                    <Col className=\"block-Standart col-md-1 col-lg-1\" style={{maxWidth:'50px'}}>\r\n                        <div className=\"lineDiv-2\"/>\r\n                    </Col>\r\n                    <Col className=\"col-md-6 col-lg-6\" style={{display:'flex', flexDirection:'column', position:'relative'}}>\r\n                        <div className=\"title-Text-2\" style={{textAlign:'left', color:'#3D9378'}}>\r\n                            {massmediaItem.name}\r\n                        </div>\r\n                        <div className=\"body-Regular mt-4\" style={{color:'#3D9378'}}>\r\n                            {massmediaItem.text}\r\n                        </div>\r\n                        <div style={{justifyContent:'space-between', display:'flex', marginTop:'auto'}}>\r\n                            <div className=\"body-Regular mt-4\" style={{color:'#4BB594'}}>\r\n                                {massmediaItem.date}\r\n                            </div>\r\n                            <div className='mt-auto'>\r\n                                <Button \r\n                                    className='button-3' \r\n                                    style={{border:'none'}}\r\n                                    onClick={() => handleMassmClick(massmediaItem)}>\r\n                                    Подробнее\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n        ))}\r\n            </Container>\r\n            <Modal show={showModal} onHide={handleCloseModal}> \r\n        <img \r\n          src={process.env.REACT_APP_API_URL + selectedMassm?.image}\r\n          alt='Публикация'\r\n          style={{objectFit:'cover'}}/>\r\n        <Modal.Header>\r\n          <Modal.Title className='title-Text-2'>{selectedMassm?.name}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body className='body-Regular' style={{color:'rgb(61, 147, 120)'}}>\r\n          <p>{selectedMassm?.fulltext}</p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button className='button-3' onClick={handleCloseModal} style={{border:'none'}}>\r\n            Закрыть\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n        \r\n        </div>\r\n    );\r\n})\r\n\r\nexport default MassMedia;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}