{"ast":null,"code":"import React,{useContext,useState}from'react';import Modal from\"react-bootstrap/Modal\";import{Button,Form,Row,Col}from\"react-bootstrap\";import{Context}from'../..';import{createMassMedia}from'../../http/massmediaAPI';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateMassMedia=_ref=>{let{show,onHide}=_ref;const{massmedia}=useContext(Context);const[massmImg,setMassmImg]=useState(null);const[massmName,setMassmName]=useState('');const[massmDate,setMassmDate]=useState('');const[massmText,setMassmText]=useState('');const[massmFullText,setMassmFullText]=useState('');const selectFile=e=>{setMassmImg(e.target.files[0]);};const addMassMedia=()=>{const formData=new FormData();formData.append('name',massmName);formData.append('text',massmText);formData.append('date',massmDate);formData.append('image',massmImg);formData.append('fulltext',massmFullText);createMassMedia(formData).then(data=>onHide());};return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:onHide,size:\"lg\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{id:\"contained-modal-title-vcenter\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u044C\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Form.Control,{className:\"mt-3\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0437\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A \\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u0430\\u0446\\u0438\\u0438\",value:massmName,onChange:e=>setMassmName(e.target.value)}),/*#__PURE__*/_jsx(Form.Control,{className:\"mt-3\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0442\\u0435\\u043A\\u0441\\u0442 \\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u0430\\u0446\\u0438\\u0438\",value:massmText,onChange:e=>setMassmText(e.target.value)}),/*#__PURE__*/_jsx(Form.Control,{className:\"mt-3\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0434\\u0430\\u0442\\u0443 \\u0438 \\u0438\\u043C\\u044F \\u0430\\u0432\\u0442\\u043E\\u0440\\u0430\",value:massmDate,onChange:e=>setMassmDate(e.target.value)}),/*#__PURE__*/_jsx(Form.Control,{className:\"mt-3\",placeholder:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0444\\u0430\\u0439\\u043B\",type:\"file\",onChange:selectFile}),/*#__PURE__*/_jsx(Form.Group,{className:\"mt-3\",children:/*#__PURE__*/_jsx(Form.Control,{value:massmFullText,onChange:e=>setMassmFullText(e.target.value),as:\"textarea\",rows:5,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u0430\\u0446\\u0438\\u0438\"})})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:onHide,children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-success\",onClick:addMassMedia,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"})]})]});};export default CreateMassMedia;","map":{"version":3,"names":["React","useContext","useState","Modal","Button","Form","Row","Col","Context","createMassMedia","jsx","_jsx","jsxs","_jsxs","CreateMassMedia","_ref","show","onHide","massmedia","massmImg","setMassmImg","massmName","setMassmName","massmDate","setMassmDate","massmText","setMassmText","massmFullText","setMassmFullText","selectFile","e","target","files","addMassMedia","formData","FormData","append","then","data","size","centered","children","Header","closeButton","Title","id","Body","Control","className","placeholder","value","onChange","type","Group","as","rows","Footer","variant","onClick"],"sources":["D:/Psych-narc/client/src/components/modals/CreateMassMedia.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport {Button, Form, Row, Col} from \"react-bootstrap\";\r\nimport { Context } from '../..';\r\nimport { createMassMedia } from '../../http/massmediaAPI';\r\n\r\nconst CreateMassMedia = ({show, onHide}) => {\r\n\r\n    const {massmedia} = useContext(Context)\r\n    const [massmImg, setMassmImg] = useState(null)\r\n    const [massmName, setMassmName] = useState('')\r\n    const [massmDate, setMassmDate] = useState('')\r\n    const [massmText, setMassmText] = useState('')\r\n    const [massmFullText, setMassmFullText] = useState('')\r\n\r\n    const selectFile = e => {\r\n        setMassmImg(e.target.files[0])\r\n    }\r\n\r\n    const addMassMedia = () => {\r\n        const formData = new FormData()\r\n        formData.append('name', massmName)\r\n        formData.append('text', massmText)\r\n        formData.append('date', massmDate)\r\n        formData.append('image', massmImg)\r\n        formData.append('fulltext', massmFullText)\r\n        createMassMedia(formData).then(data => onHide())\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            show={show}\r\n            onHide={onHide}\r\n            size=\"lg\"\r\n            centered\r\n        >\r\n        <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                Добавить новость\r\n            </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Form>\r\n                <Form.Control\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Введите заголовок публикации\"\r\n                    value={massmName}\r\n                    onChange={e => setMassmName(e.target.value)}\r\n                />\r\n                <Form.Control\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Введите текст публикации\"\r\n                    value={massmText}\r\n                    onChange={e => setMassmText(e.target.value)}\r\n                />\r\n                <Form.Control\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Введите дату и имя автора\"\r\n                    value={massmDate}\r\n                    onChange={e => setMassmDate(e.target.value)}\r\n                />\r\n                <Form.Control\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Выберите файл\"\r\n                    type=\"file\"\r\n                    onChange={selectFile}\r\n                />\r\n               <Form.Group className=\"mt-3\">\r\n                    <Form.Control\r\n                        value={massmFullText} \r\n                        onChange={e => setMassmFullText(e.target.value)}\r\n                        as=\"textarea\" \r\n                        rows={5} \r\n                        placeholder=\"Введите полное описание публикации\"/>\r\n                    </Form.Group>\r\n            </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button variant={\"outline-danger\"} onClick={onHide}>Закрыть</Button>\r\n            <Button variant={\"outline-success\"} onClick={addMassMedia}>Добавить</Button>\r\n        </Modal.Footer>\r\n        </Modal>\r\n        );\r\n}\r\n\r\nexport default CreateMassMedia"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}