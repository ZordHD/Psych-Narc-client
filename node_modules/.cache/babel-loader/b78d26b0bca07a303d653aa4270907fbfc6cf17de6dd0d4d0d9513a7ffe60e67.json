{"ast":null,"code":"import React,{useEffect,useContext}from'react';import{Container,Row,Col,Card,Button,Pagination}from'react-bootstrap';import{Context}from'../index';import{observer}from'mobx-react-lite';import{fetchPartners}from'../http/partnersAPI';import'../styles/utility-styles.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Partners=observer(()=>{const{partners}=useContext(Context);const pages=[];useEffect(()=>{fetchPartners(partners.page,partners.limit).then(data=>{partners.setServ(data.rows);partners.setTotalCount(data.count);});},[partners.page,partners.limit]);const totalPages=Math.ceil(partners.totalCount/partners.limit);for(let i=0;i<totalPages;i++){pages.push(i+1);}const handlePageChange=pageNumber=>{partners.setPage(pageNumber);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Container,{className:\"block-Standart\",children:[/*#__PURE__*/_jsx(Pagination,{style:{marginRight:'20px',marginTop:'60px'},children:/*#__PURE__*/_jsx(Pagination.Prev,{disabled:partners.page===1,onClick:()=>handlePageChange(partners.page-1)})}),/*#__PURE__*/_jsx(Row,{xs:1,md:2,lg:5,className:\"mt-1\",style:{width:'90vw'},children:partners.partner.map((partnersItem,index)=>/*#__PURE__*/_jsx(Col,{className:\"g-5\",children:/*#__PURE__*/_jsxs(Card,{className:\"card-Partners\",children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",className:\"card-img-partners-top\",src:process.env.REACT_APP_API_URL+partnersItem.image,style:{maxWidth:'100%'}}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Card.Title,{className:\"caption-Display mt-3\",style:{textAlign:'center'},children:partnersItem.name})})]})},index))}),/*#__PURE__*/_jsx(Pagination,{style:{marginLeft:'20px',marginTop:'60px'},children:/*#__PURE__*/_jsx(Pagination.Next,{disabled:partners.page===totalPages,onClick:()=>handlePageChange(partners.page+1)})})]}),/*#__PURE__*/_jsx(Pagination,{className:\"mt-5 block-Standart\",children:/*#__PURE__*/_jsx(\"div\",{className:\"block-Standart\",children:pages.map(page=>/*#__PURE__*/_jsx(Pagination.Item,{active:partners.page===page,onClick:()=>partners.setPage(page),children:page},page))})})]});});export default Partners;","map":{"version":3,"names":["React","useEffect","useContext","Container","Row","Col","Card","Button","Pagination","Context","observer","fetchPartners","jsx","_jsx","jsxs","_jsxs","Partners","partners","pages","page","limit","then","data","setServ","rows","setTotalCount","count","totalPages","Math","ceil","totalCount","i","push","handlePageChange","pageNumber","setPage","children","className","style","marginRight","marginTop","Prev","disabled","onClick","xs","md","lg","width","partner","map","partnersItem","index","Img","variant","src","process","env","REACT_APP_API_URL","image","maxWidth","Body","Title","textAlign","name","marginLeft","Next","Item","active"],"sources":["D:/Psych-narc/client/src/components/Partners.js"],"sourcesContent":["import React, { useEffect, useContext } from 'react';\r\nimport { Container, Row, Col, Card, Button, Pagination } from 'react-bootstrap';\r\nimport { Context } from '../index';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { fetchPartners } from '../http/partnersAPI';\r\nimport '../styles/utility-styles.css'\r\n\r\nconst Partners = observer(() => {\r\n  const { partners } = useContext(Context)\r\n  const pages = []\r\n\r\n  useEffect(() => {\r\n    fetchPartners(partners.page, partners.limit).then(data => {\r\n      partners.setServ(data.rows);\r\n      partners.setTotalCount(data.count);\r\n    });\r\n  }, [partners.page, partners.limit]);\r\n\r\n  const totalPages = Math.ceil(partners.totalCount / partners.limit);\r\n\r\n  for (let i = 0; i < totalPages; i++) {\r\n    pages.push(i + 1)\r\n  }\r\n\r\n\r\n  const handlePageChange = (pageNumber) => {\r\n    partners.setPage(pageNumber);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Container className='block-Standart'>\r\n        <Pagination style={{marginRight:'20px', marginTop:'60px'}}>\r\n          <Pagination.Prev \r\n            disabled={partners.page === 1} \r\n            onClick={() => handlePageChange(partners.page - 1)} />\r\n          </Pagination>\r\n        <Row xs={1} md={2} lg={5} className=\"mt-1\" style={{width:'90vw'}}>\r\n          {partners.partner.map((partnersItem, index) => (\r\n             <Col key={index} className='g-5'>\r\n             <Card className='card-Partners'>\r\n               <Card.Img \r\n                variant=\"top\" \r\n                className='card-img-partners-top' \r\n                src={process.env.REACT_APP_API_URL + partnersItem.image} \r\n                style={{maxWidth:'100%'}}\r\n                />\r\n               <Card.Body>\r\n                  <Card.Title \r\n                    className='caption-Display mt-3' \r\n                    style={{textAlign:'center'}}>\r\n                     {partnersItem.name}\r\n                  </Card.Title>\r\n               </Card.Body>\r\n             </Card>\r\n           </Col>\r\n          ))}\r\n        </Row>\r\n        <Pagination style={{marginLeft:'20px', marginTop:'60px'}}>\r\n         <Pagination.Next \r\n            disabled={partners.page === totalPages} \r\n            onClick={() => handlePageChange(partners.page + 1)} />\r\n        </Pagination>\r\n      </Container>\r\n      <Pagination className='mt-5 block-Standart'>\r\n          <div className='block-Standart'>\r\n            {pages.map(page =>\r\n                <Pagination.Item\r\n                    key={page}\r\n                    active={partners.page === page}\r\n                    onClick={() => partners.setPage(page)}\r\n                >\r\n                    {page}\r\n                </Pagination.Item>\r\n            )}\r\n             </div>\r\n      </Pagination>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Partners;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}