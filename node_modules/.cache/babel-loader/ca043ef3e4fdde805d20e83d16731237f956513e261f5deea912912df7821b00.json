{"ast":null,"code":"import React,{useState,useContext,useEffect}from'react';import{Pagination,Card,CardGroup,Container}from'react-bootstrap';import{Context}from'..';import Col from'react-bootstrap/Col';import Row from'react-bootstrap/Row';import'../styles/utility-styles.css';import'../styles/text-styles.css';import{fetchGallery}from'../http/galleryAPI';import{observer}from'mobx-react-lite';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Gallery=observer(()=>{const{gallery}=useContext(Context);const pages=[];useEffect(()=>{fetchGallery(gallery.page,gallery.limit).then(data=>{gallery.setServ(data.rows);gallery.setTotalCount(data.count);});},[gallery.page,gallery.limit]);const totalPages=Math.ceil(gallery.totalCount/gallery.limit);for(let i=0;i<totalPages;i++){pages.push(i+1);}const handlePageChange=pageNumber=>{gallery.setPage(pageNumber);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Container,{className:\"block-Standart\",children:[/*#__PURE__*/_jsx(Pagination,{style:{marginRight:'20px',marginTop:'70px'},children:/*#__PURE__*/_jsx(Pagination.Prev,{disabled:gallery.page===1,onClick:()=>handlePageChange(gallery.page-1)})}),/*#__PURE__*/_jsx(Row,{xs:1,md:2,lg:4,сlassName:\"mt-5 block-Standart\",children:gallery.gallr.map((galleryItem,index)=>/*#__PURE__*/_jsx(Col,{className:\"g-5\",children:/*#__PURE__*/_jsxs(Card,{className:\"card-Gallery\",children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",className:\"card-img-gallery-top\",src:process.env.REACT_APP_API_URL+galleryItem.image,style:{borderRadius:'10px 10px 0px 0px'}}),/*#__PURE__*/_jsx(\"div\",{className:\"image-Deco\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-wrap block-Standart\",children:/*#__PURE__*/_jsx(\"div\",{className:\"gradient mb-3\",style:{height:'9px',width:'50%'}})})})]})},index))}),/*#__PURE__*/_jsx(Pagination,{style:{marginLeft:'20px',marginTop:'70px'},children:/*#__PURE__*/_jsx(Pagination.Next,{disabled:gallery.page===totalPages,onClick:()=>handlePageChange(gallery.page+1)})})]}),/*#__PURE__*/_jsx(Pagination,{className:\"mt-5 block-Standart\",children:/*#__PURE__*/_jsx(\"div\",{className:\"block-Standart\",children:pages.map(page=>/*#__PURE__*/_jsx(Pagination.Item,{active:gallery.page===page,onClick:()=>gallery.setPage(page),children:page},page))})})]});});export default Gallery;","map":{"version":3,"names":["React","useState","useContext","useEffect","Pagination","Card","CardGroup","Container","Context","Col","Row","fetchGallery","observer","jsx","_jsx","jsxs","_jsxs","Gallery","gallery","pages","page","limit","then","data","setServ","rows","setTotalCount","count","totalPages","Math","ceil","totalCount","i","push","handlePageChange","pageNumber","setPage","children","className","style","marginRight","marginTop","Prev","disabled","onClick","xs","md","lg","сlassName","gallr","map","galleryItem","index","Img","variant","src","process","env","REACT_APP_API_URL","image","borderRadius","height","width","marginLeft","Next","Item","active"],"sources":["D:/Psych-narc/client/src/components/Gallery.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { Pagination, Card, CardGroup, Container } from 'react-bootstrap';\r\nimport { Context } from '..';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Row from 'react-bootstrap/Row';\r\nimport '../styles/utility-styles.css';\r\nimport '../styles/text-styles.css'\r\nimport { fetchGallery } from '../http/galleryAPI';\r\nimport { observer } from 'mobx-react-lite';\r\n\r\nconst Gallery = observer(() => {\r\n  const { gallery } = useContext(Context)\r\n  const pages = []\r\n\r\n  useEffect(() => {\r\n    fetchGallery(gallery.page, gallery.limit).then(data => {\r\n      gallery.setServ(data.rows);\r\n      gallery.setTotalCount(data.count);\r\n    });\r\n  }, [gallery.page, gallery.limit]);\r\n\r\n  const totalPages = Math.ceil(gallery.totalCount / gallery.limit);\r\n\r\n  for (let i = 0; i < totalPages; i++) {\r\n    pages.push(i + 1)\r\n  }\r\n\r\n\r\n  const handlePageChange = (pageNumber) => {\r\n    gallery.setPage(pageNumber);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n    <Container className='block-Standart'>\r\n          <Pagination style={{marginRight:'20px', marginTop:'70px'}}>\r\n            <Pagination.Prev \r\n              disabled={gallery.page === 1} \r\n              onClick={() => handlePageChange(gallery.page - 1)} />\r\n          </Pagination>\r\n      <Row  xs ={1} md={2} lg={4} сlassName=\"mt-5 block-Standart\">\r\n        {gallery.gallr.map((galleryItem, index) => (\r\n          <Col key={index} className='g-5'>\r\n            <Card className='card-Gallery'>\r\n              <Card.Img \r\n                variant=\"top\"\r\n                className='card-img-gallery-top'  \r\n                src={process.env.REACT_APP_API_URL + galleryItem.image} \r\n                style={{borderRadius:'10px 10px 0px 0px'}} />\r\n              <div className=\"image-Deco\">\r\n                <div className=\"flex-wrap block-Standart\">\r\n                  <div className=\"gradient mb-3\" style={{height:'9px', width:'50%'}}/>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n      <Pagination style={{marginLeft:'20px', marginTop:'70px'}}>\r\n         <Pagination.Next \r\n            disabled={gallery.page === totalPages} \r\n            onClick={() => handlePageChange(gallery.page + 1)} />\r\n        </Pagination>\r\n      </Container>\r\n      <Pagination className='mt-5 block-Standart'>\r\n          <div className='block-Standart'>\r\n            {pages.map(page =>\r\n                <Pagination.Item\r\n                    key={page}\r\n                    active={gallery.page === page}\r\n                    onClick={() => gallery.setPage(page)}\r\n                >\r\n                    {page}\r\n                </Pagination.Item>\r\n            )}\r\n             </div>\r\n      </Pagination>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Gallery;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}