{"ast":null,"code":"import React,{useContext,useState}from'react';import axios from'axios';import Modal from\"react-bootstrap/Modal\";import{Button,Form}from\"react-bootstrap\";import{observer}from'mobx-react-lite';import{Context}from'../..';import{createDocument}from'../../http/documentsAPI';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateDocuments=observer(_ref=>{let{show,onHide}=_ref;const{documents}=useContext(Context);const[doc,setDoc]=useState('');const[docName,setDocName]=useState('');const[docText,setDocText]=useState('');const selectFile=e=>{setDoc(e.target.files[0]);};const addDocument=async()=>{const formData=new FormData();formData.append('name',docName);formData.append('text',docText);formData.append('file',doc);createDocument(formData).then(data=>onHide());};return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:onHide,size:\"lg\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{id:\"contained-modal-title-vcenter\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Form.Control,{onChange:selectFile,className:\"mt-3\",placeholder:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\",type:\"file\"}),/*#__PURE__*/_jsx(Form.Control,{value:docName,onChange:e=>setDocName(e.target.value),className:\"mt-3\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u0430\"}),/*#__PURE__*/_jsx(Form.Control,{value:docText,onChange:e=>setDocText(e.target.value),className:\"mt-3\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u0430\"})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:onHide,children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-success\",onClick:addDocument,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"})]})]});});export default CreateDocuments;","map":{"version":3,"names":["React","useContext","useState","axios","Modal","Button","Form","observer","Context","createDocument","jsx","_jsx","jsxs","_jsxs","CreateDocuments","_ref","show","onHide","documents","doc","setDoc","docName","setDocName","docText","setDocText","selectFile","e","target","files","addDocument","formData","FormData","append","then","data","size","centered","children","Header","closeButton","Title","id","Body","Control","onChange","className","placeholder","type","value","Footer","variant","onClick"],"sources":["D:/Psych-narc/client/src/components/modals/CreateDocuments.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport {Button, Form} from \"react-bootstrap\";\r\nimport { observer } from 'mobx-react-lite';\r\nimport { Context } from '../..';\r\nimport { createDocument } from '../../http/documentsAPI';\r\n\r\nconst CreateDocuments = observer(({show, onHide}) => {\r\n    const { documents } = useContext(Context)\r\n    const [doc, setDoc] = useState('')\r\n    const [docName, setDocName] = useState('')\r\n    const [docText, setDocText] = useState('')\r\n\r\n    const selectFile = e => {\r\n        setDoc(e.target.files[0])\r\n    }\r\n\r\n    const addDocument = async() => {\r\n        const formData = new FormData()\r\n        formData.append('name', docName)\r\n        formData.append('text', docText)\r\n        formData.append('file', doc)\r\n        createDocument(formData).then(data => onHide())\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            show={show}\r\n            onHide={onHide}\r\n            size=\"lg\"\r\n            centered\r\n        >\r\n        <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                Добавить документ\r\n            </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Form>\r\n                <Form.Control\r\n                    onChange={selectFile}\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Выберите документ\"\r\n                    type='file'\r\n                />\r\n                 <Form.Control\r\n                    value={docName}\r\n                    onChange={e => setDocName(e.target.value)}\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Введите название документа\"\r\n                />\r\n                <Form.Control\r\n                    value={docText}\r\n                    onChange={e => setDocText(e.target.value)}\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Введите описание документа\"\r\n                />\r\n            </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button variant={\"outline-danger\"} onClick={onHide}>Закрыть</Button>\r\n            <Button variant={\"outline-success\"} onClick={addDocument}>Добавить</Button>\r\n        </Modal.Footer>\r\n        </Modal>\r\n        );\r\n})\r\n\r\nexport default CreateDocuments"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}