{"ast":null,"code":"import React,{useContext,useState}from'react';import Modal from\"react-bootstrap/Modal\";import{Button,Form,Row,Col}from\"react-bootstrap\";import{Context}from'../..';import{createVacancies}from'../../http/vacanciesAPI';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateVacancies=_ref=>{let{show,onHide}=_ref;const{vacancies}=useContext(Context);const[vacancieImg,setVacancieImg]=useState(null);const[vacancieName,setVacancieName]=useState('');const[vacancieWage,setVacancieWage]=useState('');const[vacancieText,setVacancieText]=useState('');const[info,setInfo]=useState([]);const selectFile=e=>{setVacancieImg(e.target.files[0]);};const addInfo=()=>{setInfo([...info,{title:'',description:'',number:Date.now()}]);};const removeInfo=number=>{setInfo(info.filter(i=>i.number!==number));};const addVacancie=()=>{const formData=new FormData();formData.append('name',vacancieName);formData.append('text',vacancieText);formData.append('price',vacancieWage);formData.append('image',vacancieImg);createVacancies(formData).then(data=>onHide());};return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:onHide,size:\"lg\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{id:\"contained-modal-title-vcenter\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432\\u0430\\u043A\\u0430\\u043D\\u0441\\u0438\\u044E\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Form.Control,{className:\"mt-3\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0434\\u043E\\u043B\\u0436\\u043D\\u043E\\u0441\\u0442\\u044C\",value:vacancieName,onChange:e=>setVacancieName(e.target.value)}),/*#__PURE__*/_jsx(Form.Control,{className:\"mt-3\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0432\\u0430\\u043A\\u0430\\u043D\\u0441\\u0438\\u0438\",value:vacancieText,onChange:e=>setVacancieText(e.target.value)}),/*#__PURE__*/_jsx(Form.Control,{className:\"mt-3\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0437\\u0430\\u0440\\u043F\\u043B\\u0430\\u0442\\u0443\",value:vacancieWage,onChange:e=>setVacancieWage(e.target.value)}),/*#__PURE__*/_jsx(Form.Control,{className:\"mt-3\",placeholder:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\",type:\"file\",onChange:selectFile}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Button,{variant:\"outline-dark\",onClick:addInfo,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"}),info.map(i=>/*#__PURE__*/_jsxs(Row,{classname:\"mt-4\",children:[/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Form.Control,{className:\"nt-3\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\",type:\"text\"})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Form.Control,{className:\"nt-3\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\",type:\"text\"})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Button,{onClick:()=>removeInfo(i.number),variant:\"outline-danger\",children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})})]},i.number))]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",onClick:onHide,children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-success\",onClick:addVacancie,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"})]})]});};export default CreateVacancies;","map":{"version":3,"names":["React","useContext","useState","Modal","Button","Form","Row","Col","Context","createVacancies","jsx","_jsx","jsxs","_jsxs","CreateVacancies","_ref","show","onHide","vacancies","vacancieImg","setVacancieImg","vacancieName","setVacancieName","vacancieWage","setVacancieWage","vacancieText","setVacancieText","info","setInfo","selectFile","e","target","files","addInfo","title","description","number","Date","now","removeInfo","filter","i","addVacancie","formData","FormData","append","then","data","size","centered","children","Header","closeButton","Title","id","Body","Control","className","placeholder","value","onChange","type","variant","onClick","map","classname","md","Footer"],"sources":["D:/Psych-narc/client/src/components/modals/CreateVacancies.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport {Button, Form, Row, Col} from \"react-bootstrap\";\r\nimport { Context } from '../..';\r\nimport { createVacancies } from '../../http/vacanciesAPI';\r\n\r\nconst CreateVacancies = ({show, onHide}) => {\r\n\r\n    const { vacancies } = useContext(Context)\r\n    const [vacancieImg, setVacancieImg] = useState(null)\r\n    const [vacancieName, setVacancieName] = useState('')\r\n    const [vacancieWage, setVacancieWage] = useState('')\r\n    const [vacancieText, setVacancieText] = useState('')\r\n    const [info, setInfo] = useState([])\r\n\r\n    const selectFile = e => {\r\n        setVacancieImg(e.target.files[0])\r\n    }\r\n\r\n    const addInfo = () => {\r\n        setInfo([...info, {title: '', description: '', number: Date.now()}])\r\n    }\r\n    const removeInfo = (number) => {\r\n        setInfo(info.filter(i => i.number !== number))\r\n    }\r\n\r\n    const addVacancie = () => {\r\n        const formData = new FormData()\r\n        formData.append('name', vacancieName)\r\n        formData.append('text', vacancieText)\r\n        formData.append('price', vacancieWage)\r\n        formData.append('image', vacancieImg)\r\n        createVacancies(formData).then(data => onHide())\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            show={show}\r\n            onHide={onHide}\r\n            size=\"lg\"\r\n            centered\r\n        >\r\n        <Modal.Header closeButton>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                Добавить вакансию\r\n            </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Form>\r\n                <Form.Control\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Введите должность\"\r\n                    value={vacancieName}\r\n                    onChange={e => setVacancieName(e.target.value)}\r\n                />\r\n                <Form.Control\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Введите описание вакансии\"\r\n                    value={vacancieText}\r\n                    onChange={e => setVacancieText(e.target.value)}\r\n                />\r\n                <Form.Control\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Введите зарплату\"\r\n                    value={vacancieWage}\r\n                    onChange={e => setVacancieWage(e.target.value)}\r\n                />\r\n                <Form.Control\r\n                    className=\"mt-3\"\r\n                    placeholder=\"Выберите изображение\"\r\n                    type=\"file\"\r\n                    onChange={selectFile}\r\n                />\r\n                <hr/>\r\n                <Button\r\n                    variant={\"outline-dark\"}\r\n                    onClick={addInfo}\r\n                >\r\n                    Добавить описание\r\n                </Button>\r\n                {\r\n                    info.map(i =>\r\n                        <Row classname=\"mt-4\" key={i.number}>\r\n                            <Col md={4}>\r\n                            <Form.Control\r\n                                className=\"nt-3\"\r\n                                placeholder=\"Введите название новости\"\r\n                                type=\"text\"\r\n                            />\r\n                            </Col>\r\n                            <Col md={4}>\r\n                            <Form.Control\r\n                                className=\"nt-3\"\r\n                                placeholder=\"Введите описание новости\"\r\n                                type=\"text\"\r\n                            />\r\n                            </Col>\r\n                            <Col md={4}>\r\n                                <Button onClick={() => removeInfo(i.number)} variant={\"outline-danger\"}>Удалить</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    )\r\n                }\r\n            </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button variant={\"outline-danger\"} onClick={onHide}>Закрыть</Button>\r\n            <Button variant={\"outline-success\"} onClick={addVacancie}>Добавить</Button>\r\n        </Modal.Footer>\r\n        </Modal>\r\n        );\r\n}\r\n\r\nexport default CreateVacancies"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}