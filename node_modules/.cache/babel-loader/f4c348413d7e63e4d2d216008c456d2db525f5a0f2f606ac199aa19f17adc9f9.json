{"ast":null,"code":"import React,{useContext,useState,useEffect}from'react';import{Pagination,Card,Container}from'react-bootstrap';import administration from'../assets/administration.png';import Col from'react-bootstrap/Col';import Row from'react-bootstrap/Row';import'../styles/utility-styles.css';import'../styles/text-styles.css';import{observer}from'mobx-react-lite';import{Context}from'..';import{fetchAdministrators}from'../http/administratorsAPI';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Administration=observer(()=>{const{administrators}=useContext(Context);const pages=[];useEffect(()=>{fetchAdministrators(administrators.page,administrators.limit).then(data=>{administrators.setAdmins(data.rows);administrators.setTotalCount(data.count);});},[administrators.page,administrators.limit]);const totalPages=Math.ceil(administrators.totalCount/administrators.limit);for(let i=0;i<totalPages;i++){pages.push(i+1);}const handlePageChange=pageNumber=>{administrators.setPage(pageNumber);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Container,{className:\"block-Standart\",children:[/*#__PURE__*/_jsx(Pagination,{style:{marginTop:'60px'},children:/*#__PURE__*/_jsx(Pagination.Prev,{disabled:administrators.page===1,onClick:()=>handlePageChange(administrators.page-1)})}),/*#__PURE__*/_jsx(Row,{xs:1,сlassName:\"mt-5 block-Standart\",style:{width:'65vw'},children:administrators.admins.map((administratorsItem,index)=>/*#__PURE__*/_jsx(Col,{className:\"g-5 col-md-4 col-lg-4\",children:/*#__PURE__*/_jsxs(Card,{className:\"card-Administration\",style:{border:'none'},children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",className:\"card-img-admins-top\",src:process.env.REACT_APP_API_URL+administratorsItem.image,style:{marginBottom:'-10px',maxWidth:'100%'}}),/*#__PURE__*/_jsxs(Card.Body,{style:{height:'20%'},children:[/*#__PURE__*/_jsx(Card.Title,{className:\"caption-sm mt-1\",style:{textAlign:'center'},children:administratorsItem.name}),/*#__PURE__*/_jsx(\"div\",{className:\"div-Card-Administration block-Standart\"}),/*#__PURE__*/_jsx(Card.Text,{className:\"body-Semibold block-Standart\",style:{color:'white'},children:administratorsItem.text})]})]})},index))}),/*#__PURE__*/_jsx(Pagination,{style:{marginTop:'60px'},children:/*#__PURE__*/_jsx(Pagination.Next,{disabled:administrators.page===totalPages,onClick:()=>handlePageChange(administrators.page+1)})})]}),/*#__PURE__*/_jsx(Pagination,{className:\"mt-5 block-Standart\",children:/*#__PURE__*/_jsx(\"div\",{className:\"block-Standart\",children:pages.map(page=>/*#__PURE__*/_jsx(Pagination.Item,{active:administrators.page===page,onClick:()=>administrators.setPage(page),children:page},page))})})]});});export default Administration;","map":{"version":3,"names":["React","useContext","useState","useEffect","Pagination","Card","Container","administration","Col","Row","observer","Context","fetchAdministrators","jsx","_jsx","jsxs","_jsxs","Administration","administrators","pages","page","limit","then","data","setAdmins","rows","setTotalCount","count","totalPages","Math","ceil","totalCount","i","push","handlePageChange","pageNumber","setPage","children","className","style","marginTop","Prev","disabled","onClick","xs","сlassName","width","admins","map","administratorsItem","index","border","Img","variant","src","process","env","REACT_APP_API_URL","image","marginBottom","maxWidth","Body","height","Title","textAlign","name","Text","color","text","Next","Item","active"],"sources":["D:/Psych-narc/client/src/components/Administration.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport { Pagination, Card, Container } from 'react-bootstrap';\r\nimport administration from '../assets/administration.png'\r\nimport Col from 'react-bootstrap/Col';\r\nimport Row from 'react-bootstrap/Row';\r\nimport '../styles/utility-styles.css';\r\nimport '../styles/text-styles.css'\r\nimport { observer } from 'mobx-react-lite';\r\nimport { Context } from '..';\r\nimport { fetchAdministrators } from '../http/administratorsAPI';\r\n\r\nconst Administration = observer(() => {\r\n  const {administrators} = useContext(Context)\r\n  const pages = []\r\n\r\n  useEffect(() => {\r\n    fetchAdministrators(administrators.page, administrators.limit).then(data => {\r\n      administrators.setAdmins(data.rows);\r\n      administrators.setTotalCount(data.count);\r\n    });\r\n  }, [administrators.page,administrators.limit]);\r\n\r\n  const totalPages = Math.ceil(administrators.totalCount / administrators.limit);\r\n\r\n  for (let i = 0; i < totalPages; i++) {\r\n    pages.push(i + 1)\r\n  }\r\n\r\n  const handlePageChange = (pageNumber) => {\r\n    administrators.setPage(pageNumber);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n    <Container className='block-Standart'>\r\n    <Pagination style={{marginTop:'60px'}}>\r\n          <Pagination.Prev \r\n            disabled={administrators.page === 1} \r\n            onClick={() => handlePageChange(administrators.page - 1)} />\r\n          </Pagination>\r\n      <Row  xs ={1} сlassName=\"mt-5 block-Standart\" style={{width:'65vw'}}>\r\n        {administrators.admins.map((administratorsItem, index) => (\r\n          <Col key={index} className='g-5 col-md-4 col-lg-4'>\r\n            <Card className='card-Administration' style={{border:'none'}}>\r\n              <Card.Img \r\n                variant=\"top\"\r\n                className='card-img-admins-top' \r\n                src={process.env.REACT_APP_API_URL + administratorsItem.image} \r\n                style={{marginBottom:'-10px', maxWidth:'100%'}} />\r\n              <Card.Body style={{height:'20%'}}>\r\n                <Card.Title className='caption-sm mt-1' style={{textAlign:'center'}}>\r\n                  {administratorsItem.name}\r\n                </Card.Title>\r\n                    <div className='div-Card-Administration block-Standart'/>\r\n                <Card.Text className='body-Semibold block-Standart' style={{color:'white'}}>\r\n                    {administratorsItem.text}                   \r\n                </Card.Text>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n      <Pagination style={{marginTop:'60px'}}>\r\n         <Pagination.Next \r\n            disabled={administrators.page === totalPages} \r\n            onClick={() => handlePageChange(administrators.page + 1)} />\r\n        </Pagination>\r\n      </Container>\r\n      <Pagination className='mt-5 block-Standart'>\r\n          <div className='block-Standart'>\r\n            {pages.map(page =>\r\n                <Pagination.Item\r\n                    key={page}\r\n                    active={administrators.page === page}\r\n                    onClick={() => administrators.setPage(page)}\r\n                >\r\n                    {page}\r\n                </Pagination.Item>\r\n            )}\r\n             </div>\r\n      </Pagination>\r\n    </div>\r\n  );\r\n})\r\n\r\nexport default Administration;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}